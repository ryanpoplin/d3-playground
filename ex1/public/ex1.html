<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>ex1</title>
    <style>
      #fda {
        height: 100vh;
        width: 100vw;
      }
      /** { margin: 0; padding: 0; }
      svg {
        height: 100vh;
        width: 100vw;
      }*/
      /*body { font: 12px Helvetica; }
      path {
        stroke: steelblue;
        stroke-width: 2;
        fill: none;
      }
      .axis path,
      .axis line {
        fill: none;
        stroke: grey;
        stroke-width: 1;
        shape-rendering: crispEdges;
      }*/
    </style>
  </head>
  <body>
    <svg id="fda">
      <!-- bar graph -->
      <!-- <rect x="15" y="120" width="30" height="130" stroke="black" stroke-width="1" fill="blue" />
      <rect x="45" y="230" width="30" height="20" stroke="black" stroke-width="1" fill="blue" />
      <rect x="75" y="20" width="30" height="230" stroke="black" stroke-width="1" fill="blue" />
      <rect x="105" y="200" width="30" height="50" stroke="black" stroke-width="1" fill="blue" />
      <text x="115" y="265" fill="black" font-size="12" transform="rotate(20 60,20)">USA (17 Trillion)</text> -->
      <!-- drawing -->
      <!-- <circle cx="125" cy="80" r="50" stroke="black" stroke-width="2" fill="red" />
      <circle cx="285" cy="80" r="50" stroke="black" stroke-width="2" fill="red" />
      <rect x="100" y="100" width="50" height="50" stroke="black" stroke-width="2" fill="red" />
      <rect x="120" y="100" width="50" height="50" stroke="black" stroke-width="2" fill="red" />
      <rect x="140" y="100" width="50" height="50" stroke="black" stroke-width="2" fill="red" />
      <rect x="160" y="100" width="50" height="50" stroke="black" stroke-width="2" fill="red" />
      <rect x="180" y="100" width="50" height="50" stroke="black" stroke-width="2" fill="red" />
      <rect x="200" y="100" width="50" height="50" stroke="black" stroke-width="2" fill="red" />
      <rect x="220" y="100" width="50" height="50" stroke="black" stroke-width="2" fill="red" />
      <rect x="240" y="100" width="50" height="50" stroke="black" stroke-width="2" fill="red" />
      <rect x="260" y="100" width="50" height="50" stroke="black" stroke-width="2" fill="red" />
      <circle cx="285" cy="180" r="50" stroke="black" stroke-width="2" fill="red" />
      <circle cx="125" cy="180" r="50" stroke="black" stroke-width="2" fill="red" />
      <rect x="100" y="200" width="50" height="50" stroke="black" stroke-width="2" fill="red" />
      <rect x="120" y="200" width="50" height="50" stroke="black" stroke-width="2" fill="red" />
      <rect x="140" y="200" width="50" height="50" stroke="black" stroke-width="2" fill="red" />
      <rect x="160" y="200" width="50" height="50" stroke="black" stroke-width="2" fill="red" />
      <rect x="180" y="200" width="50" height="50" stroke="black" stroke-width="2" fill="red" />
      <rect x="200" y="200" width="50" height="50" stroke="black" stroke-width="2" fill="red" />
      <rect x="220" y="200" width="50" height="50" stroke="black" stroke-width="2" fill="red" />
      <rect x="240" y="200" width="50" height="50" stroke="black" stroke-width="2" fill="red" />
      <rect x="260" y="200" width="50" height="50" stroke="black" stroke-width="2" fill="red" />
      <circle cx="285" cy="280" r="50" stroke="black" stroke-width="2" fill="red" />
      <circle cx="125" cy="280" r="50" stroke="black" stroke-width="2" fill="red" /> -->
    </svg>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.1.0/d3.min.js"></script>
    <script>
      // ex1
      // const fda = d3.select('#fda');
      // fda.append('circle')
      //    .attr('cx', 50)
      //    .attr('cy', 50)
      //    .attr('r', 40)
      //    .style('stroke', 'black')
      //    .style('stroke-width', 1)
      //    .style('fill', 'yellow');
      // fda.append('rect')
      //    .attr('x', 100)
      //    .attr('y', 100)
      //    .attr('width', 50)
      //    .attr('height', 50)
      //    .style('stroke', 'black')
      //    .style('stroke-width', 2)
      //    .style('fill', 'red');

      // ex2
      // d3.select('#fda')
      //   // 1. select all circle's in the #fda element (there are none at this point)
      //   .selectAll('circle')
      //   // 2. join each array element with a corresponding circle
      //   .data([40, 80, 120, 160])
      //   // 3. create placeholders with the data '4 placeholders'
      //   .enter()
      //   // 4. append 4 circles
      //   .append('circle')
      //   .attr('cy', 40)
      //   .attr('cx', (d) => {
      //     return d;
      //   })
      //   .attr('r', 15)
      //   .style('fill', 'red')
      //   .style('stroke', 'black')
      //   .style('stroke-width', 2);

      const gdpData = [
        {value: 90, label: 'US'},
        {value: 20, label: 'China'},
        {value: 54, label: 'Mexico'},
        {value: 128, label: 'Greece'},
        {value: 26, label: 'Byrdannland'}
      ];
      const height = 500;
      const width = 500;
      const spacing = height / (gdpData.length + 1);
      const fda = d3.select('#fda');
      fda.selectAll('rect')
         .data(gdpData)
         .enter()
         .append('rect')
         .attr('y', (d, i) => {
           return spacing * (i + 1);
         })
         .attr('x', 10)
         .attr('width', (d, i) => {
           return 10 * d.value;
         })
         .attr('height', 40)
         .style('fill', 'blue')
         .style('stroke', 'black')
         .style('stroke-width', 2);
      fda.selectAll('text')
         .data(gdpData)
         .enter()
         .append('text')
         .attr('y', (d, i) => {
           return spacing * (i + 1.3);
         })
         .attr('x', (d, i) => {
           return (10 * d.value) + 15;
         })
         .style('font-size', 12)
         .style('fill', 'black')
         .text((d) => {
           return d.label;
         });
    </script>
  </body>
</html>
